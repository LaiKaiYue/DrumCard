(function(e){function t(t){for(var i,l,r=t[0],c=t[1],s=t[2],d=0,f=[];d<r.length;d++)l=r[d],Object.prototype.hasOwnProperty.call(a,l)&&a[l]&&f.push(a[l][0]),a[l]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);u&&u(t);while(f.length)f.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],i=!0,r=1;r<n.length;r++){var c=n[r];0!==a[c]&&(i=!1)}i&&(o.splice(t--,1),e=l(l.s=n[0]))}return e}var i={},a={app:0},o=[];function l(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=i,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)l.d(n,i,function(t){return e[t]}.bind(null,i));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var s=0;s<r.length;s++)t(r[s]);var u=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"27d2":function(e,t,n){n("a434"),n("a15b"),n("d3b7"),n("25f0"),n("12a8"),n("1276"),n("ac1f"),n("5319"),window.FontAwesomeKitConfig={asyncLoading:{enabled:!1},autoA11y:{enabled:!0},baseUrl:"https://kit-free.fontawesome.com",detectConflictsUntil:null,license:"free",method:"css",minify:{enabled:!0},v4FontFaceShim:{enabled:!0},v4shim:{enabled:!0},version:"latest"},function(){function e(e){var t,n=[],i=document,a=i.documentElement.doScroll,o="DOMContentLoaded",l=(a?/^loaded|^c/:/^loaded|^i|^c/).test(i.readyState);l||i.addEventListener(o,t=function(){for(i.removeEventListener(o,t),l=1;t=n.shift();)t()}),l?setTimeout(e,0):n.push(e)}function t(e){var t,n,i,a;prefixesArray=e||["fa"],prefixesSelectorString="."+Array.prototype.join.call(e,",."),t=document.querySelectorAll(prefixesSelectorString),Array.prototype.forEach.call(t,(function(e){n=e.getAttribute("title"),e.setAttribute("aria-hidden","true"),i=!e.nextElementSibling||!e.nextElementSibling.classList.contains("sr-only"),n&&i&&((a=document.createElement("span")).innerHTML=n,a.classList.add("sr-only"),e.parentNode.insertBefore(a,e.nextSibling))}))}!function(){if(void 0!==window.Element&&!("classList"in document.documentElement)){var e,t,n,i=Array.prototype,a=i.push,o=i.splice,l=i.join;r.prototype={add:function(e){this.contains(e)||(a.call(this,e),this.el.className=this.toString())},contains:function(e){return-1!=this.el.className.indexOf(e)},item:function(e){return this[e]||null},remove:function(e){if(this.contains(e)){for(var t=0;t<this.length&&this[t]!=e;t++);o.call(this,t,1),this.el.className=this.toString()}},toString:function(){return l.call(this," ")},toggle:function(e){return this.contains(e)?this.remove(e):this.add(e),this.contains(e)}},window.DOMTokenList=r,e=Element.prototype,t="classList",n=function(){return new r(this)},Object.defineProperty?Object.defineProperty(e,t,{get:n}):e.__defineGetter__(t,n)}function r(e){for(var t=(this.el=e).className.replace(/^\s+|\s+$/g,"").split(/\s+/),n=0;n<t.length;n++)a.call(this,t[n])}}();var n,i,a,o,l,r=function(e,t){var n=document.createElement("link");n.href=e,n.media="all",n.rel="stylesheet",n.id="font-awesome-5-kit-css",t&&t.detectingConflicts&&t.detectionIgnoreAttr&&n.setAttributeNode(document.createAttribute(t.detectionIgnoreAttr)),document.getElementsByTagName("head")[0].appendChild(n)},c=function(e,t){!function(e,t){var n,i=t&&t.before||void 0,a=t&&t.media||void 0,o=window.document,l=o.createElement("link");if(t&&t.detectingConflicts&&t.detectionIgnoreAttr&&l.setAttributeNode(document.createAttribute(t.detectionIgnoreAttr)),i)n=i;else{var r=(o.body||o.getElementsByTagName("head")[0]).childNodes;n=r[r.length-1]}var c=o.styleSheets;l.rel="stylesheet",l.href=e,l.media="only x",function e(t){if(o.body)return t();setTimeout((function(){e(t)}))}((function(){n.parentNode.insertBefore(l,i?n:n.nextSibling)}));var s=function e(t){for(var n=l.href,i=c.length;i--;)if(c[i].href===n)return t();setTimeout((function(){e(t)}))};function u(){l.addEventListener&&l.removeEventListener("load",u),l.media=a||"all"}l.addEventListener&&l.addEventListener("load",u),(l.onloadcssdefined=s)(u)}(e,t)},s=function(e,t,n){var i=t&&void 0!==t.autoFetchSvg?t.autoFetchSvg:void 0,a=t&&void 0!==t.async?t.async:void 0,o=t&&void 0!==t.autoA11y?t.autoA11y:void 0,l=document.createElement("script"),r=document.scripts[0];l.src=e,void 0!==o&&l.setAttribute("data-auto-a11y",o?"true":"false"),i&&(l.setAttributeNode(document.createAttribute("data-auto-fetch-svg")),l.setAttribute("data-fetch-svg-from",t.fetchSvgFrom)),a&&l.setAttributeNode(document.createAttribute("defer")),n&&n.detectingConflicts&&n.detectionIgnoreAttr&&l.setAttributeNode(document.createAttribute(n.detectionIgnoreAttr)),r.parentNode.appendChild(l)};function u(e,t){var n=t&&t.addOn||"",i=t&&t.baseFilename||e.license+n,a=t&&t.minify?".min":"",o=t&&t.fileSuffix||e.method,l=t&&t.subdir||e.method;return e.baseUrl+"/releases/"+("latest"===e.version?"latest":"v".concat(e.version))+"/"+l+"/"+i+a+"."+o}try{if(window.FontAwesomeKitConfig){var d,f=window.FontAwesomeKitConfig,m={detectingConflicts:f.detectConflictsUntil&&new Date<=new Date(f.detectConflictsUntil),detectionIgnoreAttr:"data-fa-detection-ignore",detectionTimeoutAttr:"data-fa-detection-timeout",detectionTimeout:null};"js"===f.method&&(o=m,l={async:(a=f).asyncLoading.enabled,autoA11y:a.autoA11y.enabled},"pro"===a.license&&(l.autoFetchSvg=!0,l.fetchSvgFrom=a.baseUrl+"/releases/"+("latest"===a.version?"latest":"v".concat(a.version))+"/svgs"),a.v4shim.enabled&&s(u(a,{addOn:"-v4-shims",minify:a.minify.enabled})),s(u(a,{minify:a.minify.enabled}),l,o)),"css"===f.method&&function(n,i){var a,o=t.bind(t,["fa","fab","fas","far","fal","fad"]);n.autoA11y.enabled&&(e(o),a=o,"undefined"!=typeof MutationObserver&&new MutationObserver(a).observe(document,{childList:!0,subtree:!0})),n.v4shim.enabled&&(n.license,n.asyncLoading.enabled?c(u(n,{addOn:"-v4-shims",minify:n.minify.enabled}),i):r(u(n,{addOn:"-v4-shims",minify:n.minify.enabled}),i)),n.v4FontFaceShim.enabled&&(n.asyncLoading.enabled?c(u(n,{addOn:"-v4-font-face",minify:n.minify.enabled}),i):r(u(n,{addOn:"-v4-font-face",minify:n.minify.enabled}),i));var l=u(n,{minify:n.minify.enabled});n.asyncLoading.enabled?c(l,i):r(l,i)}(f,m),m.detectingConflicts&&((d=document.currentScript.getAttribute(m.detectionTimeoutAttr))&&(m.detectionTimeout=d),document.currentScript.setAttributeNode(document.createAttribute(m.detectionIgnoreAttr)),n=f,i=m,e((function(){var e=document.createElement("script");i&&i.detectionIgnoreAttr&&e.setAttributeNode(document.createAttribute(i.detectionIgnoreAttr)),i&&i.detectionTimeoutAttr&&i.detectionTimeout&&e.setAttribute(i.detectionTimeoutAttr,i.detectionTimeout),e.src=u(n,{baseFilename:"conflict-detection",fileSuffix:"js",subdir:"js",minify:n.minify.enabled}),e.async=!0,document.body.appendChild(e)})))}}catch(s){}}()},"813e":function(e,t,n){},a766:function(e,t,n){},b26b:function(e,t,n){"use strict";n("813e")},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("7a23"),a=n("3fd4");n("7dd6");function o(e,t){var n=Object(i["M"])("router-view");return Object(i["D"])(),Object(i["i"])(n)}const l={};l.render=o;var r=l,c=n("6c02"),s=(n("38cf"),Object(i["fb"])("data-v-3bf57b50"));Object(i["G"])("data-v-3bf57b50");var u={class:"container w-full mx-auto text-center"},d={class:"w-auto inline-block"},f={class:"flex justify-between pt-3 pb-3"},m={class:"flex items-center"},v={class:"mr-1"},b={class:"inline-flex"},p=Object(i["m"])("svg",{class:"fill-current w-4 h-4 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[Object(i["m"])("path",{d:"M13 8V2H7v6H2l8 8 8-8h-5zM0 18h20v2H0v-2z"})],-1),g=Object(i["m"])("span",null,"Download",-1),h=Object(i["m"])("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[Object(i["m"])("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1),y=Object(i["m"])("span",null,"Upload",-1),O={class:"flex items-center"},w={class:"flex items-center justify-center w-full"},j={for:"toggleB",class:"flex items-center cursor-pointer"},x=Object(i["m"])("div",{class:"mr-3 text-gray-700 font-medium"}," 上層 ",-1),L={class:"relative"},A=Object(i["m"])("div",{class:"block bg-gray-600 w-14 h-8 rounded-full"},null,-1),k=Object(i["m"])("div",{class:"dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition"},null,-1),S=Object(i["m"])("div",{class:"ml-3 text-gray-700 font-medium"}," 下層 ",-1),T={class:"flex items-center"},C=Object(i["m"])("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor"},[Object(i["m"])("path",{"fill-rule":"evenodd",d:"M5 4v3H4a2 2 0 00-2 2v3a2 2 0 002 2h1v2a2 2 0 002 2h6a2 2 0 002-2v-2h1a2 2 0 002-2V9a2 2 0 00-2-2h-1V4a2 2 0 00-2-2H7a2 2 0 00-2 2zm8 0H7v3h6V4zm0 8H7v4h6v-4z","clip-rule":"evenodd"})],-1),E=Object(i["m"])("span",null,"Print",-1),B=Object(i["m"])("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor"},[Object(i["m"])("path",{"fill-rule":"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z","clip-rule":"evenodd"}),Object(i["m"])("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"})],-1),M=Object(i["m"])("span",null,"Hide",-1),I=Object(i["m"])("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor"},[Object(i["m"])("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),Object(i["m"])("path",{"fill-rule":"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z","clip-rule":"evenodd"})],-1),N=Object(i["m"])("span",null,"Show",-1),_={class:"flex justify-between items-center"},U={class:"flex-1"},P={class:"flex-1"},F={class:"flex-1"},K={class:"flex justify-between"},D={class:"text-xl font-bold w-auto"},H={class:"text-xl font-bold w-auto"},V={class:"flex flex-wrap mb-1 mt-1"},z={class:"flex align-center ml-2"},R=Object(i["m"])("i",{class:"fas fa-plus fa-1x"},null,-1),J=Object(i["m"])("i",{class:"fas fa-minus fa-1x"},null,-1),Y=Object(i["m"])("i",{class:"fas fa-copy fa-1x"},null,-1);Object(i["E"])();var q=s((function(e,t,n,a,o,l){return Object(i["D"])(),Object(i["i"])("div",u,[Object(i["m"])("div",d,[Object(i["m"])("div",f,[Object(i["m"])("div",m,[Object(i["m"])("div",v,[Object(i["cb"])(Object(i["m"])("input",{required:"","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.filename=t}),class:"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500",id:"fileName",type:"text",placeholder:"File Name",onFocus:t[2]||(t[2]=function(t){return e.enableKeyEvent=!1}),onBlur:t[3]||(t[3]=function(t){return e.enableKeyEvent=!0})},null,544),[[i["X"],e.filename]])]),Object(i["m"])("div",b,[Object(i["m"])("button",{class:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center",onClick:t[4]||(t[4]=function(){return e.download&&e.download.apply(e,arguments)})},[p,g]),Object(i["m"])("button",{class:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center ml-1",onClick:t[6]||(t[6]=function(t){return e.$refs.fileRef.click()})},[Object(i["m"])("input",{type:"file",ref:"fileRef",name:"file",class:"hidden",onChange:t[5]||(t[5]=function(){return e.loadTextFromFile&&e.loadTextFromFile.apply(e,arguments)})},null,544),h,y])])]),Object(i["m"])("div",O,[Object(i["m"])("div",w,[Object(i["m"])("label",j,[x,Object(i["m"])("div",L,[Object(i["cb"])(Object(i["m"])("input",{type:"checkbox",id:"toggleB",class:"sr-only","onUpdate:modelValue":t[7]||(t[7]=function(t){return e.isLayerType1=t})},null,512),[[i["V"],e.isLayerType1]]),A,k]),S])])]),Object(i["m"])("div",T,[Object(i["m"])("button",{class:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center mr-1",onClick:t[8]||(t[8]=function(){return e.print&&e.print.apply(e,arguments)})},[C,E]),Object(i["cb"])(Object(i["m"])("button",{class:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center",onClick:t[9]||(t[9]=function(t){return e.showLib=!e.showLib})},[B,M],512),[[i["Y"],e.showLib]]),Object(i["cb"])(Object(i["m"])("button",{class:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center",onClick:t[10]||(t[10]=function(t){return e.showLib=!e.showLib})},[I,N],512),[[i["Y"],!e.showLib]])])]),(Object(i["D"])(!0),Object(i["i"])(i["b"],null,Object(i["K"])(e.notation,(function(n,a){return Object(i["D"])(),Object(i["i"])("div",{key:a},[Object(i["cb"])(Object(i["m"])("div",_,[Object(i["m"])("div",U,[Object(i["cb"])(Object(i["m"])("input",{"onUpdate:modelValue":function(e){return n.main=e},class:"appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500",type:"text",onFocus:t[11]||(t[11]=function(t){return e.enableKeyEvent=!1}),onBlur:t[12]||(t[12]=function(t){return e.enableKeyEvent=!0})},null,40,["onUpdate:modelValue"]),[[i["X"],n.main]])]),Object(i["m"])("div",P,[Object(i["cb"])(Object(i["m"])("input",{"onUpdate:modelValue":function(e){return n.tempo=e},class:"appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500",type:"text",placeholder:"節奏",id:"tempo",onFocus:t[13]||(t[13]=function(t){return e.enableKeyEvent=!1}),onBlur:t[14]||(t[14]=function(t){return e.enableKeyEvent=!0})},null,40,["onUpdate:modelValue"]),[[i["X"],n.tempo]])]),Object(i["m"])("div",F,[Object(i["cb"])(Object(i["m"])("input",{"onUpdate:modelValue":function(e){return n.repeat=e},class:"appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500",type:"text",onFocus:t[15]||(t[15]=function(t){return e.enableKeyEvent=!1}),onBlur:t[16]||(t[16]=function(t){return e.enableKeyEvent=!0})},null,40,["onUpdate:modelValue"]),[[i["X"],n.repeat]])])],512),[[i["Y"],e.showLib]]),Object(i["cb"])(Object(i["m"])("div",K,[Object(i["m"])("span",D,Object(i["Q"])(n.main),1),Object(i["m"])("span",H,Object(i["Q"])(n.repeat),1)],512),[[i["Y"],!e.showLib]]),Object(i["m"])("div",V,[(Object(i["D"])(!0),Object(i["i"])(i["b"],null,Object(i["K"])(e.splitTemple(n),(function(t,n){return Object(i["D"])(),Object(i["i"])("div",{class:"backImage",key:n},[(Object(i["D"])(!0),Object(i["i"])(i["b"],null,Object(i["K"])(t,(function(t,o){return Object(i["D"])(),Object(i["i"])("div",{class:"imageContent cursor-pointer",key:o,onClick:function(t){return e.selectBeat(a,n,o)}},[Object(i["m"])("div",{class:e.chkIsSelected(a,n,o)},null,2),Object(i["m"])("img",{src:e.layer1Image(t),class:"imageLayerMain"},null,8,["src"]),Object(i["m"])("img",{src:e.layer2Image(a,n,o).src,class:e.layer2Image(a,n,o).class,style:{"z-index":"10"}},null,10,["src"])],8,["onClick"])})),128))])})),128)),Object(i["cb"])(Object(i["m"])("div",z,[Object(i["m"])("div",null,[Object(i["m"])("div",{onClick:function(t){return e.insertAt(a,"add")}},[R],8,["onClick"]),Object(i["m"])("div",{onClick:function(t){return e.delLine(a)}},[J],8,["onClick"]),Object(i["m"])("div",{onClick:function(t){return e.insertAt(a,"copy")}},[Y],8,["onClick"])])],512),[[i["Y"],e.showLib]])])])})),128))])])})),X=(n("159b"),n("1276"),n("ac1f"),n("a9e3"),n("7db0"),n("a434"),n("2b3d"),n("d3b7"),n("3ca3"),n("ddb0"),{layer1:[{display:"大鼓",value:"1",image:"drum.png"},{display:"小鼓",value:"2",image:"snare.png"},{display:"HiHat",value:"3",image:"hihat.png"},{display:"大鼓＋小鼓",value:"4",image:"drum_snare.png"},{display:"大鼓＋HiHat",value:"5",image:"drum_hihat.png"},{display:"小鼓＋HiHat",value:"6",image:"snare_hihat.png"},{display:"tom1",value:"7",image:"tom1.png"},{display:"tom2",value:"8",image:"tom2.png"},{display:"tom3",value:"9",image:"tom3.png"},{display:"empty",value:"0",image:"empty.png"},{display:"double snare",value:"-",image:"double_snare.png"},{display:"double bass",value:"=",image:"double_drum.png"}],layer2:[{display:"crash",value:"q",image:"crash.png",classList:["imageLayerSubMain"]},{display:"w",value:"w",image:"圖片w.png",classList:["imageLayerSubMainUp"]},{display:"e",value:"e",image:"圖片e.png",classList:["imageLayerSubMain"]},{display:"r",value:"r",image:"圖片r.png",classList:["imageLayerSubMainUp"]},{display:"t",value:"t",image:"圖片t.png",classList:["imageLayerSubMainUp"]},{display:"y",value:"y",image:"圖片y.png",classList:["imageLayerSubMainDown"]},{display:"snare_small",value:"u",image:"snare_small.png",classList:["imageLayerSubMain"]},{display:"tom1_small",value:"i",image:"tom1_small.png",classList:["imageLayerSubMain"]},{display:"tom2_small",value:"o",image:"tom2_small.png",classList:["imageLayerSubMain"]},{display:"tom3_small",value:"p",image:"tom3_small.png",classList:["imageLayerSubMain"]},{display:"small_hihat",value:"[",image:"small_hihat.png",classList:["imageLayerSubMain"]},{display:"empty",value:"0",image:"empty.png",classList:["imageLayerSubMain"]}]}),G=X,Q=n("d4ec"),Z=n("bee2"),$=(n("99af"),n("843c"),function(){function e(t,n){var a=this;Object(Q["a"])(this,e),this.replaceBeat=function(e,t){t||(t="0");var n=a.point.getPoint(),i=n.col;return console.log(i),console.log(e),console.log("".concat(e.substring(0,i)).concat(t).concat(e.substring(i+1))),"".concat(e.substring(0,i)).concat(t).concat(e.substring(i+1))},this.setBeatType=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"next";if(e){var n=G[a.layer].some((function(t){return t.value===e}));if(n){var i=a.point.getPoint().row,o=a.notation.value[i][a.layer];if(a.notation.value[i][a.layer]=a.replaceBeat(o,e),"next"===t){var l=a.moveRight();l&&a.notation.value.push({layer1:"0000000000000000",layer2:"0000000000000000",main:"",repeat:"",tempo:"4444"})}else a.moveLeft();a.store&&(a.store.beatType.value="")}}},this.moveRight=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return a.setTotalBeat(),a.point.moveRight(e)},this.moveLeft=function(){a.setTotalBeat(),a.point.moveLeft(!1)},this.moveUp=function(){a.point.moveUp()},this.moveDown=function(){a.point.moveDown()},this.setTotalLine=function(e){a.point.setTotalLine(e)},this.chkIsSelected=Object(i["g"])((function(){return function(e,t,n){var i=a.getCol(e,t,n),o=a.point.getPoint();if(e===o.row&&i===o.col)return"chooseItem"}})),this.point=t,this.isAddNewLine=!1,this.layer="layer1",this.store=Object(i["q"])("store"),this.notation=n,Object(i["Z"])((function(){var e;return null===(e=a.store)||void 0===e?void 0:e.beatType.value}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0";a.setBeatType(e,"next")}))}return Object(Z["a"])(e,[{key:"getSheetMusic",value:function(){return this.notation}},{key:"changeTempo",value:function(e){var t=this.notation.value[e],n=t.tempo,i=0;n.split("").forEach((function(e){i+=Number(e)})),this.notation.value[e].layer1.padEnd(i,"0"),this.notation.value[e].layer2.padEnd(i,"]")}},{key:"setLayer",value:function(e){this.layer=e}},{key:"getTempo",value:function(e,t){return Number(this.notation.value[e].tempo.split("")[t])}},{key:"selectBeat",value:function(e,t,n){var i=this.getCol(e,t,n);this.point.setPoint(e,i)}},{key:"getIsAddNewLine",value:function(){var e=this.isAddNewLine;return this.isAddNewLine=!1,e}},{key:"setTotalBeat",value:function(){for(var e=this.point.getPoint().row,t=this.notation.value[e].tempo.split(""),n=0,i=0;i<t.length;i++)n+=Number(t[i]);this.point.setTotalBeat(n)}},{key:"getCol",value:function(e,t,n){if(0===t)return n;for(var i=0,a=0;a<t;a++){var o=this.getTempo(e,a);i+=o}return i+=n,i}}]),e}()),W=function(){function e(){Object(Q["a"])(this,e),this.row=Object(i["I"])(0),this.col=Object(i["I"])(0),this.totalLine=Object(i["I"])(1),this.totalBeat=0}return Object(Z["a"])(e,[{key:"setPoint",value:function(e,t){this.row.value=e,this.col.value=t}},{key:"getPoint",value:function(){return{row:this.row.value,col:this.col.value}}},{key:"setTotalLine",value:function(e){this.totalLine.value=e}},{key:"moveRight",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.row.value,n=this.col.value,i=!1;return this.col.value+1>=this.totalBeat?(e&&this.totalLine.value-1===this.row.value&&(this.totalLine.value+=1,i=!0),this.totalLine.value-1===this.row.value&&this.row.value+1>=this.totalLine.value?(n=this.col.value,t=this.row.value):(n=0,t=this.row.value+1)):n=this.col.value+1,this.setPoint(t,n),i}},{key:"moveLeft",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.row.value,n=this.col.value,i=!1;return this.col.value-1<0?this.row.value-1<0?(t=0,n=0):(n=15,t=this.row.value-1,e&&(this.totalLine.value-=1),i=e):n=this.col.value-1,this.setPoint(t,n),i}},{key:"moveUp",value:function(){var e=this.row.value-1<0?0:this.row.value-1;this.setPoint(e,this.col.value)}},{key:"moveDown",value:function(){var e=this.row.value+1>=this.totalLine.value?this.row.value:this.row.value+1;this.setPoint(e,this.col.value)}},{key:"setTotalBeat",value:function(e){this.totalBeat=e}}]),e}(),ee=(n("25f0"),function e(t,n){var a=this;Object(Q["a"])(this,e),this.altKey=Object(i["I"])(!1),this.enableKeyEvent=!0,this.setup=function(e){window.addEventListener("keypress",(function(t){if(a.enableKeyEvent){var n=t.key,i=n.charCodeAt(0);e(i>=48&&i<=57?(i%48).toString():n,"next")}})),window.addEventListener("keydown",(function(t){if(a.enableKeyEvent){var n=t.key,i=n.charCodeAt(0);65===i&&(a.altKey.value=!0),a.altKey.value&&161===i&&a.context.emit("update:layerType","layer1"),a.altKey.value&&8482===i&&a.context.emit("update:layerType","layer2"),"Backspace"===n?e("0","back"):"ArrowRight"===n?a._BeatUtils.moveRight(!1):"ArrowLeft"===n?a._BeatUtils.moveLeft():"ArrowUp"===n?a._BeatUtils.moveUp():"ArrowDown"===n&&a._BeatUtils.moveDown()}})),window.addEventListener("keyup",(function(e){if(a.enableKeyEvent){var t=e.key,n=t.charCodeAt(0);65===n&&(a.altKey.value=!1)}}))},this.setDisabled=function(e){a.enableKeyEvent=e},this._BeatUtils=t,this.context=n}),te=Object(i["n"])({name:"index",setup:function(e,t){var n=Object(i["I"])([{layer1:"0000000000000000",layer2:"0000000000000000",tempo:"4444",main:"line1",repeat:"*4"}]),a=new W,o=new $(a,n),l=new ee(o,t),r=Object(i["I"])(!0),c=Object(i["I"])(""),s=Object(i["I"])(!0),u=Object(i["I"])(!0);a.setPoint(0,0);var d=function(){r.value=!1,Object(i["u"])((function(){window.print()}))},f=Object(i["g"])((function(){return s.value?"layer1":"layer2"}));Object(i["Z"])((function(){return u.value}),(function(e){l.setDisabled(e)}));var m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"next";if(e){var i=G[f.value].some((function(t){return t.value===e}));if(i){var l=a.getPoint().row,r=n.value[l][f.value];if(n.value[l][f.value]=o.replaceBeat(r,e),"next"===t){var c=o.moveRight();c&&n.value.push({layer1:"0000000000000000",layer2:"0000000000000000",main:"",repeat:"",tempo:"4444"})}else o.moveLeft()}}};l.setup(m);var v=Object(i["g"])((function(){return function(e){var t=[],n=e.tempo,i=0;return n.split("").forEach((function(n){t.push(e.layer1.substr(i,Number(n))),i+=Number(n)})),t}})),b=Object(i["g"])((function(){return function(e){var t=G.layer1.find((function(t){return t.value===e}));return t?"/images/".concat(t.image):""}})),p=Object(i["g"])((function(){return function(e,t,i){var a=o.getCol(e,t,i),l=n.value[e].layer2,r=G.layer2.find((function(e){return e.value===l[a]}))||{image:"empty.png",classList:["imageLayerSubMain"]},c="/images/".concat(r.image),s=r.classList;return{src:c,class:s}}})),g=function(e,t){return Number(n.value[e].tempo.split("")[t])},h=function(e,t,n){if(0===t)return n;for(var i=0,a=0;a<t;a++){var o=g(e,a);i+=o}return i+=n,i},y=Object(i["g"])((function(){return function(e,t,n){var i=h(e,t,n),o=a.getPoint();if(e===o.row&&i===o.col)return"chooseItem"}})),O=function(e,t){if("add"===t)n.value.splice(e+1,0,{layer1:"0000000000000000",layer2:"0000000000000000",main:"",repeat:"",tempo:"4444"});else{var i=n.value[e];n.value.splice(e+1,0,JSON.parse(JSON.stringify(i)))}o.setTotalLine(n.value.length)},w=function(e){if(1!==n.value.length){n.value.splice(e,1);var t=a.getPoint().col;a.setPoint(n.value.length-1,t),o.setTotalLine(n.value.length)}},j=function(e,t,n){var i=h(e,t,n);a.setPoint(e,i)},x=function(){var e=JSON.stringify(n.value),t=new Blob([e],{type:"text/plain"}),i=document.createElement("a");i.href=URL.createObjectURL(t),i.download=c.value,i.click()},L=function(e){var t=e.target.files[0],i=new FileReader;i.onload=function(e){n.value=JSON.parse(e.target.result),o.setTotalLine(n.value.length),a.setPoint(0,0)},i.readAsText(t),e.target.value=null};return{enableKeyEvent:u,showLib:r,filename:c,notation:n,splitTemple:v,isLayerType1:s,selectBeat:j,layer1Image:b,layer2Image:p,print:d,chkIsSelected:y,insertAt:O,delLine:w,download:x,loadTextFromFile:L}}});n("b26b");te.render=q,te.__scopeId="data-v-3bf57b50";var ne=te,ie=[{path:"/",name:"index",component:ne}],ae=Object(c["a"])({history:Object(c["b"])(),routes:ie}),oe=ae,le={beatType:Object(i["I"])("")},re=le;n("27d2"),n("a766");Object(i["h"])(r).provide("store",re).use(oe).use(a["a"]).mount("#app")}});
//# sourceMappingURL=app.678ef72a.js.map