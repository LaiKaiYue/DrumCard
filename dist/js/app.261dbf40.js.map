{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./public/js/fontawesome.js","webpack:///./src/views/index.vue?685e","webpack:///./src/App.vue","webpack:///./src/App.vue?dfb6","webpack:///./src/views/index.vue","webpack:///./src/components/tempoLib.ts","webpack:///./src/components/common/BeatUtils.ts","webpack:///./src/components/Point.ts","webpack:///./src/components/common/GlobalListener.ts","webpack:///./src/views/index.vue?4960","webpack:///./src/views/index.vue?a52e","webpack:///./src/router/index.ts","webpack:///./src/store/index.ts","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","FontAwesomeKitConfig","e","document","documentElement","doScroll","a","test","readyState","addEventListener","removeEventListener","setTimeout","prefixesArray","prefixesSelectorString","Array","join","querySelectorAll","forEach","getAttribute","setAttribute","nextElementSibling","classList","contains","createElement","innerHTML","add","parentNode","insertBefore","nextSibling","Element","this","el","className","toString","indexOf","item","remove","toggle","DOMTokenList","__defineGetter__","replace","split","href","media","rel","id","detectingConflicts","detectionIgnoreAttr","setAttributeNode","createAttribute","getElementsByTagName","appendChild","before","body","childNodes","styleSheets","onloadcssdefined","autoFetchSvg","async","autoA11y","scripts","src","fetchSvgFrom","addOn","baseFilename","license","minify","fileSuffix","method","subdir","baseUrl","version","concat","u","f","detectConflictsUntil","Date","detectionTimeoutAttr","detectionTimeout","asyncLoading","enabled","v4shim","MutationObserver","observe","childList","subtree","v4FontFaceShim","currentScript","script","render","class","xmlns","viewBox","fill","stroke","stroke-width","stroke-linecap","stroke-linejoin","for","fill-rule","clip-rule","required","filename","type","placeholder","enableKeyEvent","download","$refs","fileRef","click","ref","loadTextFromFile","isLayerType1","print","showLib","notation","line","lineIndex","main","tempo","repeat","splitTemple","bar","barIndex","note","noteIndex","placement","width","close-delay","trigger","reference","selectBeat","chkIsSelected","layer1Image","layer2Image","style","tempoLibLayer1","handleSelect","stripe","height","label","default","scope","row","image","insertAt","delLine","layer1","display","layer2","_point","_notation","replaceBeat","beatType","point","getPoint","col","console","log","substring","setBeatType","moveAction","isLayerBeatExist","tempoLib","layer","some","_beatType","isAddNewLine","moveRight","moveLeft","store","isAutoNextLine","setTotalBeat","moveUp","moveDown","setTotalLine","total","subsection","beat","getCol","Point","totalBeat","eachTempo","Number","padEnd","setPoint","tempoList","list","_sub","getTempo","totalLine","tmpRow","tmpCol","isAutoDelLine","isDelLine","_BeatUtils","context","altKey","setup","keyCharCode","charCodeAt","emit","setDisabled","isDisabled","props","NotationPosition","beatUtils","globalListenser","layerType","_ary","from","char","substr","_obj","find","temp","img_src","img_class","map","_layer1","lineIdx","newLine","JSON","parse","stringify","_line","Blob","URL","createObjectURL","ev","file","target","files","reader","FileReader","onload","readAsText","column","event","__scopeId","routes","path","component","router","history","App","provide","use","mount"],"mappings":"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","file":"js/app.261dbf40.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","window.FontAwesomeKitConfig = {\"asyncLoading\":{\"enabled\":false},\"autoA11y\":{\"enabled\":true},\"baseUrl\":\"https://kit-free.fontawesome.com\",\"detectConflictsUntil\":null,\"license\":\"free\",\"method\":\"css\",\"minify\":{\"enabled\":true},\"v4FontFaceShim\":{\"enabled\":true},\"v4shim\":{\"enabled\":true},\"version\":\"latest\"};\n!function(){function r(e){var t,n=[],i=document,o=i.documentElement.doScroll,r=\"DOMContentLoaded\",a=(o?/^loaded|^c/:/^loaded|^i|^c/).test(i.readyState);a||i.addEventListener(r,t=function(){for(i.removeEventListener(r,t),a=1;t=n.shift();)t()}),a?setTimeout(e,0):n.push(e)}!function(){if(!(void 0===window.Element||\"classList\"in document.documentElement)){var e,t,n,i=Array.prototype,o=i.push,r=i.splice,a=i.join;d.prototype={add:function(e){this.contains(e)||(o.call(this,e),this.el.className=this.toString())},contains:function(e){return-1!=this.el.className.indexOf(e)},item:function(e){return this[e]||null},remove:function(e){if(this.contains(e)){for(var t=0;t<this.length&&this[t]!=e;t++);r.call(this,t,1),this.el.className=this.toString()}},toString:function(){return a.call(this,\" \")},toggle:function(e){return this.contains(e)?this.remove(e):this.add(e),this.contains(e)}},window.DOMTokenList=d,e=Element.prototype,t=\"classList\",n=function(){return new d(this)},Object.defineProperty?Object.defineProperty(e,t,{get:n}):e.__defineGetter__(t,n)}function d(e){for(var t=(this.el=e).className.replace(/^\\s+|\\s+$/g,\"\").split(/\\s+/),n=0;n<t.length;n++)o.call(this,t[n])}}();function a(e){var t,n,i,o;prefixesArray=e||[\"fa\"],prefixesSelectorString=\".\"+Array.prototype.join.call(e,\",.\"),t=document.querySelectorAll(prefixesSelectorString),Array.prototype.forEach.call(t,function(e){n=e.getAttribute(\"title\"),e.setAttribute(\"aria-hidden\",\"true\"),i=!e.nextElementSibling||!e.nextElementSibling.classList.contains(\"sr-only\"),n&&i&&((o=document.createElement(\"span\")).innerHTML=n,o.classList.add(\"sr-only\"),e.parentNode.insertBefore(o,e.nextSibling))})}var d=function(e,t){var n=document.createElement(\"link\");n.href=e,n.media=\"all\",n.rel=\"stylesheet\",n.id=\"font-awesome-5-kit-css\",t&&t.detectingConflicts&&t.detectionIgnoreAttr&&n.setAttributeNode(document.createAttribute(t.detectionIgnoreAttr)),document.getElementsByTagName(\"head\")[0].appendChild(n)},c=function(e,t){!function(e,t){var n,i=t&&t.before||void 0,o=t&&t.media||void 0,r=window.document,a=r.createElement(\"link\");if(t&&t.detectingConflicts&&t.detectionIgnoreAttr&&a.setAttributeNode(document.createAttribute(t.detectionIgnoreAttr)),i)n=i;else{var d=(r.body||r.getElementsByTagName(\"head\")[0]).childNodes;n=d[d.length-1]}var c=r.styleSheets;a.rel=\"stylesheet\",a.href=e,a.media=\"only x\",function e(t){if(r.body)return t();setTimeout(function(){e(t)})}(function(){n.parentNode.insertBefore(a,i?n:n.nextSibling)});var s=function(e){for(var t=a.href,n=c.length;n--;)if(c[n].href===t)return e();setTimeout(function(){s(e)})};function l(){a.addEventListener&&a.removeEventListener(\"load\",l),a.media=o||\"all\"}a.addEventListener&&a.addEventListener(\"load\",l),(a.onloadcssdefined=s)(l)}(e,t)},e=function(e,t,n){var i=t&&void 0!==t.autoFetchSvg?t.autoFetchSvg:void 0,o=t&&void 0!==t.async?t.async:void 0,r=t&&void 0!==t.autoA11y?t.autoA11y:void 0,a=document.createElement(\"script\"),d=document.scripts[0];a.src=e,void 0!==r&&a.setAttribute(\"data-auto-a11y\",r?\"true\":\"false\"),i&&(a.setAttributeNode(document.createAttribute(\"data-auto-fetch-svg\")),a.setAttribute(\"data-fetch-svg-from\",t.fetchSvgFrom)),o&&a.setAttributeNode(document.createAttribute(\"defer\")),n&&n.detectingConflicts&&n.detectionIgnoreAttr&&a.setAttributeNode(document.createAttribute(n.detectionIgnoreAttr)),d.parentNode.appendChild(a)};function s(e,t){var n=t&&t.addOn||\"\",i=t&&t.baseFilename||e.license+n,o=t&&t.minify?\".min\":\"\",r=t&&t.fileSuffix||e.method,a=t&&t.subdir||e.method;return e.baseUrl+\"/releases/\"+(\"latest\"===e.version?\"latest\":\"v\".concat(e.version))+\"/\"+a+\"/\"+i+o+\".\"+r}var t,n,i,o,l;try{if(window.FontAwesomeKitConfig){var u,f=window.FontAwesomeKitConfig,m={detectingConflicts:f.detectConflictsUntil&&new Date<=new Date(f.detectConflictsUntil),detectionIgnoreAttr:\"data-fa-detection-ignore\",detectionTimeoutAttr:\"data-fa-detection-timeout\",detectionTimeout:null};\"js\"===f.method&&(o=m,l={async:(i=f).asyncLoading.enabled,autoA11y:i.autoA11y.enabled},\"pro\"===i.license&&(l.autoFetchSvg=!0,l.fetchSvgFrom=i.baseUrl+\"/releases/\"+(\"latest\"===i.version?\"latest\":\"v\".concat(i.version))+\"/svgs\"),i.v4shim.enabled&&e(s(i,{addOn:\"-v4-shims\",minify:i.minify.enabled})),e(s(i,{minify:i.minify.enabled}),l,o)),\"css\"===f.method&&function(e,t){var n,i=a.bind(a,[\"fa\",\"fab\",\"fas\",\"far\",\"fal\",\"fad\"]);e.autoA11y.enabled&&(r(i),n=i,\"undefined\"!=typeof MutationObserver&&new MutationObserver(n).observe(document,{childList:!0,subtree:!0})),e.v4shim.enabled&&(e.license,e.asyncLoading.enabled?c(s(e,{addOn:\"-v4-shims\",minify:e.minify.enabled}),t):d(s(e,{addOn:\"-v4-shims\",minify:e.minify.enabled}),t));e.v4FontFaceShim.enabled&&(e.asyncLoading.enabled?c(s(e,{addOn:\"-v4-font-face\",minify:e.minify.enabled}),t):d(s(e,{addOn:\"-v4-font-face\",minify:e.minify.enabled}),t));var o=s(e,{minify:e.minify.enabled});e.asyncLoading.enabled?c(o,t):d(o,t)}(f,m),m.detectingConflicts&&((u=document.currentScript.getAttribute(m.detectionTimeoutAttr))&&(m.detectionTimeout=u),document.currentScript.setAttributeNode(document.createAttribute(m.detectionIgnoreAttr)),t=f,n=m,r(function(){var e=document.createElement(\"script\");n&&n.detectionIgnoreAttr&&e.setAttributeNode(document.createAttribute(n.detectionIgnoreAttr)),n&&n.detectionTimeoutAttr&&n.detectionTimeout&&e.setAttribute(n.detectionTimeoutAttr,n.detectionTimeout),e.src=s(t,{baseFilename:\"conflict-detection\",fileSuffix:\"js\",subdir:\"js\",minify:t.minify.enabled}),e.async=!0,document.body.appendChild(e)}))}}catch(e){}}();","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=8ff3ae2e&scoped=true&lang=css\"","<template>\n  <router-view />\n</template>\n","import { render } from \"./App.vue?vue&type=template&id=43f8a59e\"\nconst script = {}\nscript.render = render\n\nexport default script","<template>\n  <div class=\"container w-full mx-auto text-center\">\n    <div class=\"w-auto inline-block\">\n      <!-- 功能列 -->\n      <div class=\"flex flex-wrap justify-between pt-3 pb-3\">\n        <!-- 下載/上傳區 -->\n        <div class=\"flex items-center\">\n          <div class=\"mr-1\">\n            <input required v-model=\"filename\"\n              class=\"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500\" id=\"fileName\" type=\"text\"\n              placeholder=\"File Name\"\n              @focus=\"enableKeyEvent = false\"\n              @blur=\"enableKeyEvent = true\"\n            />\n          </div>\n\n          <div class=\"inline-flex\">\n            <button class=\"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center\" @click=\"download\">\n              <svg class=\"fill-current w-4 h-4 mr-2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\"><path d=\"M13 8V2H7v6H2l8 8 8-8h-5zM0 18h20v2H0v-2z\"/></svg>\n              <span>Download</span>\n            </button>\n\n            <button class=\"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center ml-1\" @click=\"$refs.fileRef.click()\">\n              <input type=\"file\" ref=\"fileRef\" name=\"file\" class=\"hidden\" @change=\"loadTextFromFile\" />\n\n              <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-6 w-6 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" stroke-width=\"2\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" /></svg>\n              <span>Upload</span>\n            </button>\n          </div>\n        </div>\n\n        <!-- 分上下圖層區 -->\n        <div class=\"flex items-center\">\n          <!-- Toggle B -->\n          <div class=\"flex items-center justify-center w-full\">\n\n            <label for=\"toggleB\" class=\"flex items-center cursor-pointer\">\n              <!-- label -->\n              <div class=\"mr-3 text-gray-700 font-medium\">\n                上層\n              </div>\n              <!-- toggle -->\n              <div class=\"relative\">\n                <!-- input -->\n                <input type=\"checkbox\" id=\"toggleB\" class=\"sr-only\" v-model=\"isLayerType1\">\n                <!-- line -->\n                <div class=\"block bg-gray-600 w-14 h-8 rounded-full\"></div>\n                <!-- dot -->\n                <div class=\"dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition\"></div>\n              </div>\n              <!-- label -->\n              <div class=\"ml-3 text-gray-700 font-medium\">\n                下層\n              </div>\n            </label>\n\n          </div>\n        </div>\n\n        <!-- 列印區 -->\n        <div class=\"flex items-center\">\n          <button class=\"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center mr-1\" @click=\"print\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-5 w-5 mr-2\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n              <path fill-rule=\"evenodd\" d=\"M5 4v3H4a2 2 0 00-2 2v3a2 2 0 002 2h1v2a2 2 0 002 2h6a2 2 0 002-2v-2h1a2 2 0 002-2V9a2 2 0 00-2-2h-1V4a2 2 0 00-2-2H7a2 2 0 00-2 2zm8 0H7v3h6V4zm0 8H7v4h6v-4z\" clip-rule=\"evenodd\" />\n            </svg>\n            <span>Print</span>\n          </button>\n\n          <button class=\"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center\" v-show=\"showLib\" @click=\"showLib = !showLib\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-5 w-5 mr-2\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n              <path fill-rule=\"evenodd\" d=\"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z\" clip-rule=\"evenodd\" />\n              <path d=\"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z\" />\n            </svg>\n            <span>Hide</span>\n          </button>\n          <button class=\"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center\" v-show=\"!showLib\" @click=\"showLib = !showLib\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-5 w-5 mr-2\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n              <path d=\"M10 12a2 2 0 100-4 2 2 0 000 4z\" />\n              <path fill-rule=\"evenodd\" d=\"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z\" clip-rule=\"evenodd\" />\n            </svg>\n            <span>Show</span>\n          </button>\n        </div>\n      </div>\n\n      <!-- 譜區 -->\n      <div v-for=\"(line, lineIndex) in notation\" :key=\"lineIndex\">\n        <!-- 每一個段落 -->\n        <!-- 標題 -->\n        <div v-show=\"showLib\" class=\"flex flex-wrap justify-between items-center\">\n          <div class=\"flex-1\">\n            <input\n              v-model=\"line.main\"\n              class=\"appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500\" type=\"text\"\n              @focus=\"enableKeyEvent = false\"\n              @blur=\"enableKeyEvent = true\"\n            />\n          </div>\n          <div class=\"flex-1\">\n            <input\n              v-model=\"line.tempo\"\n              class=\"appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500\" type=\"text\"\n              placeholder=\"節奏\"\n              id=\"tempo\"\n              @focus=\"enableKeyEvent = false\"\n              @blur=\"enableKeyEvent = true\"\n            />\n          </div>\n          <div class=\"flex-1\">\n            <input\n              v-model=\"line.repeat\"\n              class=\"appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500\" type=\"text\"\n              @focus=\"enableKeyEvent = false\"\n              @blur=\"enableKeyEvent = true\"\n            />\n          </div>\n        </div>\n        <div v-show=\"!showLib\" class=\"flex flex-wrap justify-between\">\n            <span class=\"text-xl font-bold w-auto\">{{ line.main }}</span>\n            <span class=\"text-xl font-bold w-auto\">{{ line.repeat }}</span>\n        </div>\n        <!-- /標題 -->\n\n        <!-- 節奏區 -->\n        <div class=\"flex flex-wrap mb-1 mt-1\">\n          <!-- 一小節 -->\n          <div class=\"backImage\" v-for=\"(bar, barIndex) in splitTemple(line)\" :key=\"barIndex\">\n            <!-- 4拍 -->\n            <el-popover\n                placement=\"bottom\"\n                :width=\"120\"\n                :close-delay=\"10\"\n                 v-for=\"(note, noteIndex) in bar\"\n                 :key=\"noteIndex\"\n                trigger=\"click\"\n              >\n                <template #reference>\n                  <div class=\"imageContent cursor-pointer\"\n                    @click=\"selectBeat(lineIndex, barIndex, noteIndex)\"\n                  >\n                    <div :class=\"chkIsSelected(lineIndex, barIndex, noteIndex)\"></div>\n                    <img :src=\"layer1Image(note)\" class=\"imageLayerMain\">\n                    <img :src=\"layer2Image(lineIndex, barIndex, noteIndex).src\"\n                    :class=\"layer2Image(lineIndex, barIndex, noteIndex).class\" style=\"z-index: 10\">\n                  </div>\n                </template>\n                <el-table\n                  :data=\"tempoLibLayer1\"\n                  @row-click=\"handleSelect\"\n                  stripe\n                  height=\"300px\"\n                >\n                  <el-table-column width=\"50\" property=\"value\" label=\"按鍵\"></el-table-column>\n                  <!-- <el-table-column width=\"100\" property=\"display\" label=\"節奏\"></el-table-column> -->\n                  <el-table-column width=\"50\" property=\"image\" label=\"圖片\">\n                    <template #default=\"scope\">\n                      <img width='30' :src=\"scope.row.image\">\n                    </template>\n                  </el-table-column>\n                </el-table>\n              </el-popover>\n            <!-- <div class=\"imageContent cursor-pointer\" v-for=\"(note, noteIndex) in bar\" :key=\"noteIndex\"\n              @click=\"selectBeat(lineIndex, barIndex, noteIndex)\"\n            >\n              <div :class=\"chkIsSelected(lineIndex, barIndex, noteIndex)\"></div>\n              <img :src=\"layer1Image(note)\" class=\"imageLayerMain\">\n              <img :src=\"layer2Image(lineIndex, barIndex, noteIndex).src\"\n              :class=\"layer2Image(lineIndex, barIndex, noteIndex).class\" style=\"z-index: 10\">\n            </div> -->\n          </div>\n          <div v-show=\"showLib\" class=\"flex align-center ml-2\">\n            <div>\n              <div @click=\"insertAt(lineIndex, 'add')\"><i class=\"fas fa-plus fa-1x\"></i></div>\n              <div @click=\"delLine(lineIndex)\"><i class=\"fas fa-minus fa-1x\"></i></div>\n              <div @click=\"insertAt(lineIndex, 'copy')\"><i class=\"fas fa-copy fa-1x\"></i></div>\n            </div>\n          </div>\n        </div>\n        <!-- /節奏區 -->\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport tempoLib from '@/components/tempoLib'\nimport { IBeatType, ILine } from '@/interface/IBeatLib'\nimport { computed, defineComponent, nextTick, ref, watch } from 'vue'\nimport BeatUtils from '@/components/common/BeatUtils'\nimport Point from '@/components/Point'\nimport GlobalListener from '@/components/common/GlobalListener'\n\nexport default defineComponent({\n  name: 'index',\n  setup (props, context) {\n    const notation = ref<Array<ILine>>([{ layer1: '0000000000000000', layer2: '0000000000000000', tempo: '4444', main: 'line1', repeat: '*4' }])\n    const NotationPosition: Point = new Point()\n    const beatUtils = new BeatUtils(NotationPosition, notation)\n    const globalListenser = new GlobalListener(beatUtils, context)\n    const showLib = ref(true)\n    const filename = ref('')\n    const isLayerType1 = ref<boolean>(true)\n    const enableKeyEvent = ref<boolean>(true)\n\n    NotationPosition.setPoint(0, 0)\n\n    const print = () => {\n      showLib.value = false\n      nextTick(() => {\n        window.print()\n      })\n    }\n\n    const layerType = computed(() => {\n      return isLayerType1.value ? 'layer1' : 'layer2'\n    })\n\n    // 監聽是否在編輯中\n    watch(() => enableKeyEvent.value, (value) => {\n      globalListenser.setDisabled(value)\n    })\n\n    /**\n     * 設定拍子\n     * @param beatType {string} - 節拍屬性\n     * @param [moveAction=\"next\"] {string} - 選前一格或後一格\n     */\n    const setBeatType = (beatType: string, moveAction = 'next'): void => {\n      if (!beatType) {\n        return\n      }\n\n      const isLayerBeatExist = tempoLib[layerType.value].some((_beatType: IBeatType) => _beatType.value === beatType)\n      if (!isLayerBeatExist) return\n\n      const row = NotationPosition.getPoint().row\n      const line = notation.value[row][layerType.value]\n\n      notation.value[row][layerType.value] = beatUtils.replaceBeat(line, beatType)\n      if (moveAction === 'next') {\n        const isAddNewLine = beatUtils.moveRight()\n        if (isAddNewLine) {\n          notation.value.push({\n            layer1: '0000000000000000',\n            layer2: '0000000000000000',\n            main: '',\n            repeat: '',\n            tempo: '4444'\n          })\n        }\n      } else {\n        beatUtils.moveLeft()\n      }\n      // if (this.store) {\n      //   this.store.beatType.value = ''\n      // }\n    }\n\n    // 設定key event\n    globalListenser.setup(setBeatType)\n\n    // 切換節奏\n    const splitTemple = computed(() => {\n      return (line: ILine) => {\n        const _ary: Array<string> = []\n        const tempo = line.tempo\n        let from = 0\n        tempo.split('').forEach(char => {\n          _ary.push(line.layer1.substr(from, Number(char)))\n          from += Number(char)\n        })\n        return _ary\n      }\n    })\n\n    // 轉換第一層圖片\n    const layer1Image = computed(() => {\n      return (beat: string) => {\n        const _obj = tempoLib.layer1.find(temp => temp.value === beat)\n        if (!_obj) return ''\n        return `/images/${_obj.image}`\n      }\n    })\n\n    // 轉換第二層圖片\n    const layer2Image = computed(() => {\n      return (line: number, barIndex: number, noteIndex: number) => {\n        const col = beatUtils.getCol(line, barIndex, noteIndex)\n        const layer2 = notation.value[line].layer2\n        const image = tempoLib.layer2.find(temp => temp.value === layer2[col]) || { image: 'empty.png', classList: ['imageLayerSubMain'] }\n        const img_src = `/images/${image.image}`\n        const img_class = image.classList\n        return { src: img_src, class: img_class }\n      }\n    })\n\n    // const tempoLibLayer1 = tempoLib.layer1\n    const tempoLibLayer1 = computed(() => {\n      return tempoLib[layerType.value].map((_layer1) => {\n        return {\n          display: _layer1.display,\n          value: _layer1.value,\n          image: `/images/${_layer1.image}`\n        }\n      })\n    })\n\n    const getTempo = (lineIndex: number, barIndex: number): number => {\n      return Number(notation.value[lineIndex].tempo.split('')[barIndex])\n    }\n\n    const getCol = (line: number, subsection: number, beat: number) => {\n      if (subsection === 0) {\n        return beat\n      }\n      let col = 0\n\n      for (let _sub = 0; _sub < subsection; _sub++) {\n        const tempo = getTempo(line, _sub)\n        col += tempo\n      }\n      col += beat\n      return col\n    }\n\n    // 選中的位置\n    const chkIsSelected = computed(() => {\n      return (line: number, barIndex: number, noteIndex: number) => {\n        const col = getCol(line, barIndex, noteIndex)\n        const _point = NotationPosition.getPoint()\n        if (line === _point.row && col === _point.col) return 'chooseItem'\n      }\n    })\n\n    /**\n     * 新增、複製Line\n     * @param lineIdx {number} - 哪一列\n     * @param type {string} - 新增或複製\n     */\n    const insertAt = (lineIdx: number, type: string) => {\n      if (type === 'add') {\n        notation.value.splice(lineIdx + 1, 0, {\n          layer1: '0000000000000000',\n          layer2: '0000000000000000',\n          main: '',\n          repeat: '',\n          tempo: '4444'\n        })\n      } else {\n        const newLine = notation.value[lineIdx]\n        notation.value.splice(lineIdx + 1, 0, JSON.parse(JSON.stringify(newLine)))\n      }\n      beatUtils.setTotalLine(notation.value.length)\n    }\n\n    /**\n     * 刪除Line\n     * @param lineIdx {number} - 要刪除的列\n     */\n    const delLine = (lineIdx: number) => {\n      if (notation.value.length === 1) return\n      notation.value.splice(lineIdx, 1)\n      const col = NotationPosition.getPoint().col\n      NotationPosition.setPoint(notation.value.length - 1, col)\n      beatUtils.setTotalLine(notation.value.length)\n    }\n\n    /**\n     * click選位置\n     * @param line {array} - 行數\n     * @param subsection {string} - 小節\n     * @param beatIdx {number} - 節拍\n     */\n    const selectBeat = (lineIndex: number, barIndex: number, noteIndex: number): void => {\n      const col = getCol(lineIndex, barIndex, noteIndex)\n      NotationPosition.setPoint(lineIndex, col)\n    }\n\n    const download = () => {\n      const _line = JSON.stringify(notation.value)\n      const data = new Blob([_line], { type: 'text/plain' })\n      const a = document.createElement('a')\n      a.href = URL.createObjectURL(data)\n      a.download = filename.value\n      a.click()\n    }\n\n    // 讀入檔案\n    const loadTextFromFile = (ev: any) => {\n      const file = ev.target.files[0]\n      const reader = new FileReader()\n\n      reader.onload = (e: any) => {\n        notation.value = JSON.parse(e.target.result)\n        beatUtils.setTotalLine(notation.value.length)\n        NotationPosition.setPoint(0, 0)\n      }\n      reader.readAsText(file)\n      ev.target.value = null\n    }\n\n    const handleSelect = (row: IBeatType, column: object, event: object) => {\n      setBeatType(row.value, 'next')\n    }\n\n    return {\n      enableKeyEvent,\n      showLib,\n      filename,\n      notation,\n      splitTemple,\n      isLayerType1,\n      selectBeat,\n      layer1Image,\n      layer2Image,\n      print,\n      chkIsSelected,\n      insertAt,\n      delLine,\n      download,\n      loadTextFromFile,\n      tempoLibLayer1,\n      handleSelect\n    }\n  }\n})\n</script>\n\n<style scoped>\n.backImage {\n  background-image: url('/images/background.jpg');\n  @apply flex mr-1 ml-1 bg-contain;\n  @apply border border-solid border-black;\n  height: 80px;\n}\n.imageContent {\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  width: 60px;\n  height: 100%;\n}\n.imageLayerMain {\n  position: absolute;\n  width: 70px;\n  height: 70px;\n}\n.imageLayerSubMain {\n  position: absolute;\n  width: 70px;\n  height: 70px;\n}\n.chooseItem {\n  z-index: 9999;\n  border: 3px brown solid;\n  width: 70px;\n  height: 70px;\n}\n\n/* Toggle B */\ninput:checked ~ .dot {\n  transform: translateX(100%);\n  background-color: #48bb78;\n}\n</style>\n","import IBeatTypeList from '../interface/IBeatLib'\n\nconst tempo: IBeatTypeList = {\n  layer1: [\n    {\n      display: '大鼓',\n      value: '1',\n      image: 'drum.png'\n    },\n    {\n      display: '小鼓',\n      value: '2',\n      image: 'snare.png'\n    },\n    {\n      display: 'HiHat',\n      value: '3',\n      image: 'hihat.png'\n    },\n    {\n      display: '大鼓＋小鼓',\n      value: '4',\n      image: 'drum_snare.png'\n    },\n    {\n      display: '大鼓＋HiHat',\n      value: '5',\n      image: 'drum_hihat.png'\n    },\n    {\n      display: '小鼓＋HiHat',\n      value: '6',\n      image: 'snare_hihat.png'\n    },\n    {\n      display: 'tom1',\n      value: '7',\n      image: 'tom1.png'\n    },\n    {\n      display: 'tom2',\n      value: '8',\n      image: 'tom2.png'\n    },\n    {\n      display: 'tom3',\n      value: '9',\n      image: 'tom3.png'\n    },\n    {\n      display: 'empty',\n      value: '0',\n      image: 'empty.png'\n    },\n    {\n      display: 'double snare',\n      value: '-',\n      image: 'double_snare.png'\n    },\n    {\n      display: 'double bass',\n      value: '=',\n      image: 'double_drum.png'\n    }],\n  layer2: [\n    {\n      display: 'crash',\n      value: 'q',\n      image: 'crash.png',\n      classList: ['imageLayerSubMain']\n    },\n    {\n      display: 'w',\n      value: 'w',\n      image: '圖片w.png',\n      classList: ['imageLayerSubMainUp']\n    },\n    {\n      display: 'e',\n      value: 'e',\n      image: '圖片e.png',\n      classList: ['imageLayerSubMain']\n    },\n    {\n      display: 'r',\n      value: 'r',\n      image: '圖片r.png',\n      classList: ['imageLayerSubMainUp']\n    },\n    {\n      display: 't',\n      value: 't',\n      image: '圖片t.png',\n      classList: ['imageLayerSubMainUp']\n    },\n    {\n      display: 'y',\n      value: 'y',\n      image: '圖片y.png',\n      classList: ['imageLayerSubMainDown']\n    },\n    {\n      display: 'snare_small',\n      value: 'u',\n      image: 'snare_small.png',\n      classList: ['imageLayerSubMain']\n    },\n    {\n      display: 'tom1_small',\n      value: 'i',\n      image: 'tom1_small.png',\n      classList: ['imageLayerSubMain']\n    },\n    {\n      display: 'tom2_small',\n      value: 'o',\n      image: 'tom2_small.png',\n      classList: ['imageLayerSubMain']\n    },\n    {\n      display: 'tom3_small',\n      value: 'p',\n      image: 'tom3_small.png',\n      classList: ['imageLayerSubMain']\n    },\n    {\n      display: 'small_hihat',\n      value: '[',\n      image: 'small_hihat.png',\n      classList: ['imageLayerSubMain']\n    },\n    {\n      display: 'empty',\n      value: '0',\n      image: 'empty.png',\n      classList: ['imageLayerSubMain']\n    }]\n}\n\nexport default tempo\n","import { computed, inject, Ref, ref, UnwrapRef, watch } from 'vue'\nimport { IBeatType, ILine } from '@/interface/IBeatLib'\nimport IPoint from '@/interface/IPoint'\nimport tempoLib from '@/components/tempoLib'\nimport { IStore } from '@/store'\n\nexport interface IBeatUtils {\n  setBeatType (beatType: string, moveAction: string): void;\n  replaceBeat (line: string, beatType: string): void;\n  setLayer (layer: string): void;\n  getIsAddNewLine(): boolean;\n}\n\nexport default class BeatUtils implements IBeatUtils {\n  private point: IPoint\n  private layer: string\n  private isAddNewLine: boolean\n  private notation: Ref<UnwrapRef<Array<ILine>>>;\n  private store: IStore | undefined;\n\n  constructor (_point: IPoint, _notation: Ref<UnwrapRef<Array<ILine>>>) {\n    this.point = _point\n    this.isAddNewLine = false\n    this.layer = 'layer1'\n    this.store = inject<IStore>('store')\n    this.notation = _notation\n\n    watch(() => this.store?.beatType.value, (beatType = '0') => {\n      this.setBeatType(beatType, 'next')\n    })\n  }\n\n  getSheetMusic (): Ref<UnwrapRef<Array<ILine>>> {\n    return this.notation\n  }\n\n  changeTempo (row: number): void {\n    const line = this.notation.value[row]\n    const tempo = line.tempo\n    let totalBeat = 0\n    tempo.split('').forEach(eachTempo => {\n      totalBeat += Number(eachTempo)\n    })\n    this.notation.value[row].layer1.padEnd(totalBeat, '0')\n    this.notation.value[row].layer2.padEnd(totalBeat, ']')\n  }\n\n  replaceBeat = (line: string, beatType: string): string => {\n    if (!beatType) beatType = '0'\n    const { col } = this.point.getPoint()\n\n    console.log(col)\n    console.log(line)\n    console.log(`${line.substring(0, col)}${beatType}${line.substring(col + 1)}`)\n    return `${line.substring(0, col)}${beatType}${line.substring(col + 1)}`\n  }\n\n  setBeatType = (beatType: string, moveAction = 'next'): void => {\n    if (!beatType) {\n      return\n    }\n\n    const isLayerBeatExist = tempoLib[this.layer].some((_beatType: IBeatType) => _beatType.value === beatType)\n    if (!isLayerBeatExist) return\n\n    const row = this.point.getPoint().row\n    const line = this.notation.value[row][this.layer]\n\n    this.notation.value[row][this.layer] = this.replaceBeat(line, beatType)\n    if (moveAction === 'next') {\n      const isAddNewLine = this.moveRight()\n      if (isAddNewLine) {\n        this.notation.value.push({\n          layer1: '0000000000000000',\n          layer2: '0000000000000000',\n          main: '',\n          repeat: '',\n          tempo: '4444'\n        })\n      }\n    } else {\n      this.moveLeft()\n    }\n    if (this.store) {\n      this.store.beatType.value = ''\n    }\n  }\n\n  setLayer (layer: string): void {\n    this.layer = layer\n  }\n\n  getTempo (line: number, subsection: number): number {\n    return Number(this.notation.value[line].tempo.split('')[subsection])\n  }\n\n  selectBeat (line: number, subsection: number, beat: number): void {\n    const col = this.getCol(line, subsection, beat)\n    this.point.setPoint(line, col)\n  }\n\n  getIsAddNewLine (): boolean {\n    const isAddNewLine = this.isAddNewLine\n    this.isAddNewLine = false\n    return isAddNewLine\n  }\n\n  private setTotalBeat () {\n    const line = this.point.getPoint().row\n    const tempoList = this.notation.value[line].tempo.split('')\n    let totalBeat = 0\n    for (let list = 0; list < tempoList.length; list++) {\n      totalBeat += Number(tempoList[list])\n    }\n    this.point.setTotalBeat(totalBeat)\n  }\n\n  moveRight = (isAutoNextLine = true): boolean => {\n    this.setTotalBeat()\n    return this.point.moveRight(isAutoNextLine)\n  }\n\n  moveLeft = () => {\n    this.setTotalBeat()\n    this.point.moveLeft(false)\n  }\n\n  moveUp = () => {\n    this.point.moveUp()\n  }\n\n  moveDown = () => {\n    this.point.moveDown()\n  }\n\n  setTotalLine = (total: number) => {\n    this.point.setTotalLine(total)\n  }\n\n  getCol (line: number, subsection: number, beat: number) {\n    if (subsection === 0) {\n      return beat\n    }\n    let col = 0\n\n    for (let _sub = 0; _sub < subsection; _sub++) {\n      const tempo = this.getTempo(line, _sub)\n      col += tempo\n    }\n    col += beat\n    return col\n  }\n\n  // 選中的位置\n  chkIsSelected = computed(() => {\n    return (line: number, subsection: number, beat: number) => {\n      const col = this.getCol(line, subsection, beat)\n      const Point = this.point.getPoint()\n      if (line === Point.row && col === Point.col) return 'chooseItem'\n    }\n  })\n}\n","import { ref, Ref, UnwrapRef } from 'vue'\nimport IPoint from '@/interface/IPoint'\nexport default class Point implements IPoint {\n  private row: Ref<UnwrapRef<number>>\n  private col: Ref<UnwrapRef<number>>\n  private totalLine: Ref<UnwrapRef<number>>\n  private totalBeat: number\n\n  constructor () {\n    this.row = ref(0)\n    this.col = ref(0)\n    this.totalLine = ref(1)\n    this.totalBeat = 0\n  }\n\n  setPoint (row: number, col: number): void {\n    this.row.value = row\n    this.col.value = col\n  }\n\n  getPoint (): { row: number; col: number } {\n    return { row: this.row.value, col: this.col.value }\n  }\n\n  setTotalLine (total: number): void {\n    this.totalLine.value = total\n  }\n\n  moveRight (isAutoNextLine = true): boolean {\n    let tmpRow = this.row.value\n    let tmpCol = this.col.value\n    let isAddNewLine = false\n    if (this.col.value + 1 >= this.totalBeat) {\n      if (isAutoNextLine && this.totalLine.value - 1 === this.row.value) {\n        this.totalLine.value += 1\n        isAddNewLine = true\n      }\n\n      if (this.totalLine.value - 1 === this.row.value && this.row.value + 1 >= this.totalLine.value) {\n        tmpCol = this.col.value\n        tmpRow = this.row.value\n      } else {\n        tmpCol = 0\n        tmpRow = this.row.value + 1\n      }\n    } else {\n      tmpCol = this.col.value + 1\n    }\n\n    this.setPoint(tmpRow, tmpCol)\n    return isAddNewLine\n  }\n\n  moveLeft (isAutoDelLine = true): boolean {\n    let tmpRow = this.row.value\n    let tmpCol = this.col.value\n    let isDelLine = false\n    if (this.col.value - 1 < 0) {\n      if (this.row.value - 1 < 0) {\n        tmpRow = 0\n        tmpCol = 0\n      } else {\n        tmpCol = 15\n        tmpRow = this.row.value - 1\n        if (isAutoDelLine) this.totalLine.value -= 1\n        isDelLine = isAutoDelLine\n      }\n    } else {\n      tmpCol = this.col.value - 1\n    }\n\n    this.setPoint(tmpRow, tmpCol)\n    return isDelLine\n  }\n\n  moveUp (): void {\n    const tmpRow = this.row.value - 1 < 0 ? 0 : this.row.value - 1\n    this.setPoint(tmpRow, this.col.value)\n  }\n\n  moveDown (): void {\n    const tmpRow = this.row.value + 1 >= this.totalLine.value ? this.row.value : this.row.value + 1\n    this.setPoint(tmpRow, this.col.value)\n  }\n\n  setTotalBeat (totalBeat: number): void {\n    this.totalBeat = totalBeat\n  }\n}\n","import BeatUtils from '@/components/common/BeatUtils'\nimport { ref, SetupContext } from 'vue'\n\nexport default class GlobalListener {\n  private _BeatUtils: BeatUtils\n  private altKey = ref<boolean>(false)\n  private enableKeyEvent = true\n  private context: SetupContext\n\n  constructor (_BeatUtils: BeatUtils, context: SetupContext) {\n    this._BeatUtils = _BeatUtils\n    this.context = context\n  }\n\n  setup = (setBeatType: (beatType: string, moveAction?: string) => void) => {\n    window.addEventListener('keypress', (e) => {\n      if (!this.enableKeyEvent) return\n      const key = e.key\n      const keyCharCode = key.charCodeAt(0)\n\n      // 0-9\n      if (keyCharCode >= 48 && keyCharCode <= 57) {\n        setBeatType((keyCharCode % 48).toString(), 'next')\n      } else {\n        setBeatType(key, 'next')\n      }\n    })\n\n    window.addEventListener('keydown', (e) => {\n      if (!this.enableKeyEvent) return\n      const key = e.key\n      const keyCharCode = key.charCodeAt(0)\n\n      // press alt\n      if (keyCharCode === 65) this.altKey.value = true\n\n      // alt + 1\n      if (this.altKey.value && (keyCharCode === 161)) this.context.emit('update:layerType', 'layer1')\n      // alt + 2\n      if (this.altKey.value && (keyCharCode === 8482)) this.context.emit('update:layerType', 'layer2')\n\n      if (key === 'Backspace') {\n        setBeatType('0', 'back')\n      } else if (key === 'ArrowRight') {\n        this._BeatUtils.moveRight(false)\n      } else if (key === 'ArrowLeft') {\n        this._BeatUtils.moveLeft()\n      } else if (key === 'ArrowUp') this._BeatUtils.moveUp()\n      else if (key === 'ArrowDown') this._BeatUtils.moveDown()\n    })\n\n    window.addEventListener('keyup', (e) => {\n      if (!this.enableKeyEvent) return\n      const key = e.key\n      const keyCharCode = key.charCodeAt(0)\n\n      // alt\n      if (keyCharCode === 65) this.altKey.value = false\n    })\n  }\n\n  setDisabled = (isDisabled: boolean): void => {\n    this.enableKeyEvent = isDisabled\n  }\n}\n","\nimport tempoLib from '@/components/tempoLib'\nimport { IBeatType, ILine } from '@/interface/IBeatLib'\nimport { computed, defineComponent, nextTick, ref, watch } from 'vue'\nimport BeatUtils from '@/components/common/BeatUtils'\nimport Point from '@/components/Point'\nimport GlobalListener from '@/components/common/GlobalListener'\n\nexport default defineComponent({\n  name: 'index',\n  setup (props, context) {\n    const notation = ref<Array<ILine>>([{ layer1: '0000000000000000', layer2: '0000000000000000', tempo: '4444', main: 'line1', repeat: '*4' }])\n    const NotationPosition: Point = new Point()\n    const beatUtils = new BeatUtils(NotationPosition, notation)\n    const globalListenser = new GlobalListener(beatUtils, context)\n    const showLib = ref(true)\n    const filename = ref('')\n    const isLayerType1 = ref<boolean>(true)\n    const enableKeyEvent = ref<boolean>(true)\n\n    NotationPosition.setPoint(0, 0)\n\n    const print = () => {\n      showLib.value = false\n      nextTick(() => {\n        window.print()\n      })\n    }\n\n    const layerType = computed(() => {\n      return isLayerType1.value ? 'layer1' : 'layer2'\n    })\n\n    // 監聽是否在編輯中\n    watch(() => enableKeyEvent.value, (value) => {\n      globalListenser.setDisabled(value)\n    })\n\n    /**\n     * 設定拍子\n     * @param beatType {string} - 節拍屬性\n     * @param [moveAction=\"next\"] {string} - 選前一格或後一格\n     */\n    const setBeatType = (beatType: string, moveAction = 'next'): void => {\n      if (!beatType) {\n        return\n      }\n\n      const isLayerBeatExist = tempoLib[layerType.value].some((_beatType: IBeatType) => _beatType.value === beatType)\n      if (!isLayerBeatExist) return\n\n      const row = NotationPosition.getPoint().row\n      const line = notation.value[row][layerType.value]\n\n      notation.value[row][layerType.value] = beatUtils.replaceBeat(line, beatType)\n      if (moveAction === 'next') {\n        const isAddNewLine = beatUtils.moveRight()\n        if (isAddNewLine) {\n          notation.value.push({\n            layer1: '0000000000000000',\n            layer2: '0000000000000000',\n            main: '',\n            repeat: '',\n            tempo: '4444'\n          })\n        }\n      } else {\n        beatUtils.moveLeft()\n      }\n      // if (this.store) {\n      //   this.store.beatType.value = ''\n      // }\n    }\n\n    // 設定key event\n    globalListenser.setup(setBeatType)\n\n    // 切換節奏\n    const splitTemple = computed(() => {\n      return (line: ILine) => {\n        const _ary: Array<string> = []\n        const tempo = line.tempo\n        let from = 0\n        tempo.split('').forEach(char => {\n          _ary.push(line.layer1.substr(from, Number(char)))\n          from += Number(char)\n        })\n        return _ary\n      }\n    })\n\n    // 轉換第一層圖片\n    const layer1Image = computed(() => {\n      return (beat: string) => {\n        const _obj = tempoLib.layer1.find(temp => temp.value === beat)\n        if (!_obj) return ''\n        return `/images/${_obj.image}`\n      }\n    })\n\n    // 轉換第二層圖片\n    const layer2Image = computed(() => {\n      return (line: number, barIndex: number, noteIndex: number) => {\n        const col = beatUtils.getCol(line, barIndex, noteIndex)\n        const layer2 = notation.value[line].layer2\n        const image = tempoLib.layer2.find(temp => temp.value === layer2[col]) || { image: 'empty.png', classList: ['imageLayerSubMain'] }\n        const img_src = `/images/${image.image}`\n        const img_class = image.classList\n        return { src: img_src, class: img_class }\n      }\n    })\n\n    // const tempoLibLayer1 = tempoLib.layer1\n    const tempoLibLayer1 = computed(() => {\n      return tempoLib[layerType.value].map((_layer1) => {\n        return {\n          display: _layer1.display,\n          value: _layer1.value,\n          image: `/images/${_layer1.image}`\n        }\n      })\n    })\n\n    const getTempo = (lineIndex: number, barIndex: number): number => {\n      return Number(notation.value[lineIndex].tempo.split('')[barIndex])\n    }\n\n    const getCol = (line: number, subsection: number, beat: number) => {\n      if (subsection === 0) {\n        return beat\n      }\n      let col = 0\n\n      for (let _sub = 0; _sub < subsection; _sub++) {\n        const tempo = getTempo(line, _sub)\n        col += tempo\n      }\n      col += beat\n      return col\n    }\n\n    // 選中的位置\n    const chkIsSelected = computed(() => {\n      return (line: number, barIndex: number, noteIndex: number) => {\n        const col = getCol(line, barIndex, noteIndex)\n        const _point = NotationPosition.getPoint()\n        if (line === _point.row && col === _point.col) return 'chooseItem'\n      }\n    })\n\n    /**\n     * 新增、複製Line\n     * @param lineIdx {number} - 哪一列\n     * @param type {string} - 新增或複製\n     */\n    const insertAt = (lineIdx: number, type: string) => {\n      if (type === 'add') {\n        notation.value.splice(lineIdx + 1, 0, {\n          layer1: '0000000000000000',\n          layer2: '0000000000000000',\n          main: '',\n          repeat: '',\n          tempo: '4444'\n        })\n      } else {\n        const newLine = notation.value[lineIdx]\n        notation.value.splice(lineIdx + 1, 0, JSON.parse(JSON.stringify(newLine)))\n      }\n      beatUtils.setTotalLine(notation.value.length)\n    }\n\n    /**\n     * 刪除Line\n     * @param lineIdx {number} - 要刪除的列\n     */\n    const delLine = (lineIdx: number) => {\n      if (notation.value.length === 1) return\n      notation.value.splice(lineIdx, 1)\n      const col = NotationPosition.getPoint().col\n      NotationPosition.setPoint(notation.value.length - 1, col)\n      beatUtils.setTotalLine(notation.value.length)\n    }\n\n    /**\n     * click選位置\n     * @param line {array} - 行數\n     * @param subsection {string} - 小節\n     * @param beatIdx {number} - 節拍\n     */\n    const selectBeat = (lineIndex: number, barIndex: number, noteIndex: number): void => {\n      const col = getCol(lineIndex, barIndex, noteIndex)\n      NotationPosition.setPoint(lineIndex, col)\n    }\n\n    const download = () => {\n      const _line = JSON.stringify(notation.value)\n      const data = new Blob([_line], { type: 'text/plain' })\n      const a = document.createElement('a')\n      a.href = URL.createObjectURL(data)\n      a.download = filename.value\n      a.click()\n    }\n\n    // 讀入檔案\n    const loadTextFromFile = (ev: any) => {\n      const file = ev.target.files[0]\n      const reader = new FileReader()\n\n      reader.onload = (e: any) => {\n        notation.value = JSON.parse(e.target.result)\n        beatUtils.setTotalLine(notation.value.length)\n        NotationPosition.setPoint(0, 0)\n      }\n      reader.readAsText(file)\n      ev.target.value = null\n    }\n\n    const handleSelect = (row: IBeatType, column: object, event: object) => {\n      setBeatType(row.value, 'next')\n    }\n\n    return {\n      enableKeyEvent,\n      showLib,\n      filename,\n      notation,\n      splitTemple,\n      isLayerType1,\n      selectBeat,\n      layer1Image,\n      layer2Image,\n      print,\n      chkIsSelected,\n      insertAt,\n      delLine,\n      download,\n      loadTextFromFile,\n      tempoLibLayer1,\n      handleSelect\n    }\n  }\n})\n","import { render } from \"./index.vue?vue&type=template&id=8ff3ae2e&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=8ff3ae2e&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-8ff3ae2e\"\n\nexport default script","import { createRouter, createWebHashHistory, RouteRecordRaw } from 'vue-router'\nimport index from '@/views/index.vue'\n// import DrumCard from '@/views/DrumCard.vue'\n\nconst routes: Array<RouteRecordRaw> = [\n  {\n    path: '/',\n    name: 'index',\n    component: index\n  }\n  // {\n  //   path: '/DrumCard',\n  //   name: 'DrumCard',\n  //   component: DrumCard\n  // }\n]\n\nconst router = createRouter({\n  history: createWebHashHistory(),\n  routes\n})\n\nexport default router\n","import { Ref, ref, UnwrapRef } from 'vue'\n\nexport interface IStore {\n  beatType: Ref<UnwrapRef<string>>;\n}\n\nconst store = {\n  beatType: ref<string>('')\n}\n\nexport default store\n","import { createApp } from 'vue'\nimport ElementPlus from 'element-plus'\nimport 'element-plus/lib/theme-chalk/index.css'\nimport App from './App.vue'\nimport router from './router'\nimport store from './store/index'\nimport '@/../public/js/fontawesome.js'\nimport './index.css'\n\ncreateApp(App)\n  .provide('store', store)\n  .use(router)\n  .use(ElementPlus)\n  .mount('#app')\n"],"sourceRoot":""}